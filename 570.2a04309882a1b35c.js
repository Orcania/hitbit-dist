"use strict";(self.webpackChunkhitbit=self.webpackChunkhitbit||[]).push([[570],{4570:(E,u,t)=>{t.r(u),t.d(u,{VerifyEmailModule:()=>s});var f=t(6895),l=t(298),h=t(6683),e=t(8256),c=t(1481),m=t(8176),v=t(1835);class n{constructor(i,r,p,g){this.titleService=i,this._activedRoute=r,this.router=p,this.authService=g,this.verifying=!0,this.verified=!1,this.message="",this.failure_reason="",this.titleService.setTitle(`${h.v.appTitle} \xb7 Verify Email`)}ngOnInit(){console.log({email:this._activedRoute.snapshot.queryParams.email,token:this._activedRoute.snapshot.queryParams.verificationToken}),this.authService.verifyEmail({email:this._activedRoute.snapshot.queryParams.email,token:this._activedRoute.snapshot.queryParams.verificationToken}).subscribe(i=>{if(this.verifying=!1,console.log("res",i),i.success)this.verified=!0,this.message="Email verified successfully!",setTimeout(()=>{this.router.navigateByUrl("/home",{state:{loginModal:!0}})},3e3);else switch(this.verified=!1,this.message="Email verification failed",i.statusCode){case 600:this.failure_reason="Email is invalid";break;case 601:this.failure_reason="Email is not signed up";break;case 607:this.failure_reason="Email is already verified";break;case 608:this.failure_reason="Token is invalid";break;default:this.failure_reason="Unknown error"}})}}n.\u0275fac=function(i){return new(i||n)(e.Y36(c.Dx),e.Y36(l.gz),e.Y36(l.F0),e.Y36(m.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-verify-email"]],decls:7,vars:2,consts:[[1,"root"],[1,"container","py-6"],[1,"has-text-white","has-text-centered"]],template:function(i,r){1&i&&(e.TgZ(0,"layout-navbar-footer")(1,"section",0)(2,"div",1)(3,"h1",2),e._uU(4),e.qZA(),e.TgZ(5,"h1",2),e._uU(6),e.qZA()()()()),2&i&&(e.xp6(4),e.hij(" ",r.verifying?"We are verifying your email, please hold on":r.message," "),e.xp6(2),e.hij(" ",r.verified?"redirecting you to home":r.failure_reason," "))},dependencies:[v.B],styles:[".root[_ngcontent-%COMP%]{height:calc(100vh - 4rem)}"]});const d=[{path:"",component:n}];class a{}a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[l.Bz.forChild(d),l.Bz]});var y=t(4805);class s{}s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[f.ez,a,y.x]})}}]);